유저가 클릭하면 리워드가 지급되고 알림이 발송되는 시스템이 필요합니다.
해당 시스템을 개발하기 위해 어떤 컴포넌트(예:DB등)가 필요한지 그리고 그 이유가 무엇인지 설명해주십시오.



조건

시스템은 확장 가능해야 함.
리워드는 중복으로 지급 불가능함.
알림은 상황에 따라 늦게 발송될 수 있음. 

제가 개발을 한다고 고려한다면 필요한 컴포넌트는 리워드를 처리하는 서버, 리워드가 발급되어 알림이 필요한 사용자를 색출하는 배치, RDBMS를 사용할 것 같습니다.

[메커니즘]
1. 유저가 클릭하여 리워드를 지급하는 로직을 담은 서버는 지급한 리워드와 유저의 정보를 RDBMS에 저장합니다. 
2. 특정 시간마다 배치는 알림이 필요한 유저를 색출하는 배치를 가동하여 RDBMS에 저장합니다.
3. 리워드를 처리하는 서버에 유저의 알림이 있는지 확인하는 엔드포인트를 구현하고, 클라이언트는 주기적으로 본인의 알림이 있는지 request 보냅니다.


[사용이유]
 RDBMS를 사용한 이유: 리워드는 중복으로 지급이 불가하다는 조건으로 인해 데이터의 무결성이 중요합니다. 그렇기 때문에 중복으로 데이터를 저장하여 검색속도를 올린 NoSQL보다는 RDBMS가 적합합니다.

 배치를 사용한 이유: 스케줄링을 사용하여 처리할 수 있는 문제이지만 리워드를 지급하는 서버의 책임은 리워드를 지급하는 하나의 책임만을 가져야한다고 생각합니다. 또한 스케줄링으로 처리할 경우 데이터의 크기가 상당하여 알림이 필요한 유저를 색출하는 작업으로 인해 응답 지연을 야기할 수 있기 때문에 별도의 서버가 필요하다고 생각합니다. 알림이 필요한 유저를 색출하는 작업은 서로 작업의 영향이 없으며, 대량의 데이터를 처리하는 작업입니다. 그렇기 때문에 대량의 데이터를 처리할 때 장점을 가지고 있는 배치를 사용하고, 작업 간 영향이 없어 파티셔닝을 사용하여 처리하기 적합하기에 배치를 사용하였습니다.